<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Add grade</title>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
	crossorigin="anonymous">

</head>
<body>
	<div class="container my-5">
		<div class="row">
			<div class="col-md-9 mx-auto shadow p-4 rounded bg-light">
				<h1 class="display-5">Aggiungi voti</h1>
				<div th:if="${anyModifyResult == null or !anyModifyResult}"
					class="alert alert-danger" role="alert">Non ci sono voti
					aggiungibili in questo esame</div>
				<div th:if="${anyModifyResult != null and anyModifyResult}">
					<form method="post" th:action="@{/addResult}">
						<input th:value="${nomeCorso}" name="nomeCorso" hidden> <input
							th:value="${idAppello}" name="idAppello" hidden>
						<table class="table">
							<thead>
								<tr>
									<th scope="col">Matricola</th>
									<th scope="col">Nome</th>
									<th scope="col">Cognome</th>
									<th scope="col">Voto</th>
									<th scope="col">Prev status</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="risultato: ${risultati}">
									<td th:value="${risultato.getIdStud()}"
										th:text="${risultato.getIdStud()}"></td>
									<td th:value="${risultato.getNameStud().toLowerCase()}"
										th:text="${risultato.getNameStud()}"></td>
									<td th:value="${risultato.getSurnameStud().toLowerCase()}"
										th:text="${risultato.getSurnameStud()}"></td>
									<td><select class="form-select" name="voti" required>
											<option th:each="g : ${allGrades}" th:value="${g.toString()}"
												th:text="${g}"
												th:selected="${g.equals(risultato.getGrade())}"></option>
									</select></td>
									<td th:value="${risultato.getStatus().toLowerCase}"
										th:text="${risultato.getStatus()}"></td>
									<input type="hidden" name="idStudenti"
										th:value="${risultato.getIdStud()}"/>
								</tr>
							</tbody>
						</table>
						<button type="submit" class="btn btn-primary">Inserisci
							voti</button>
					</form>
				</div>
			</div>
		</div>
	</div>

</body>
</html>