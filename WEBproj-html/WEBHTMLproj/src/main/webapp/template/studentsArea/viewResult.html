<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Visualizza voto</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
	crossorigin="anonymous">
</head>
<body>
	<div class="container my-5">
		<div class="row">
			<div class="col-md-9 mx-auto shadow p-4 rounded bg-light">
				<h1 class="display-5">Visualizza voto</h1>
				<div th:if="${anyGrade == null or !anyGrade}"
					class="alert alert-warning mt-3">Voto ancora non caricato</div>
				<div th:if="${anyGrade != null and anyGrade}">
					<table class="table">
						<thead>
							<tr>
								<th scope="col">Nome Corso</th>
								<th scope="col">Data</th>
								<th scope="col">Voto</th>
								<th scope="col">Status</th>
								<th scope="col">Rifiuta</th>
							</tr>
							<tr th:each="ris : ${risultato}">
								<form method="post" th:action="@{/rejectGrade}">
									<input name="idStud" th:value="${ris.getIdStud()}" hidden>
									<input name="idAppello" th:value="${ris.getExamId()}" hidden>
									<td th:text="${ris.getCourseName()}"></td>
									<td th:text="${ris.getDate()}"></td>
									<td th:text="${ris.getGrade()}"></td>
									<td th:if="${ris.getStatus().equals('rejected')}"
											class="text-danger">Voto rifiutato</td>
									<td th:if="${!ris.getStatus().equals('rejected')}"
										th:text="${ris.getStatus()}"></td>
									<td
										th:if="${!ris.getStatus().equals('rejected') and ris.getGrade() >= 18}"><button
											type="submit" class="btn btn-danger">Rifiuta</button></td>
									<td th:if="${ris.getStatus().equals('rejected')}"></td>
								</form>
							</tr>
						</thead>
					</table>
					<div th:if="${rejectOK != null and rejectOK == 1}">rifiutato
						con successo</div>
				</div>
			</div>

		</div>

	</div>


</body>
</html>